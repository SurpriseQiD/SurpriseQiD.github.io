<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="QiView"><meta property="og:type" content="article"><meta property="og:image" content="https://SurpriseQiD.github.io//img/home-bg-painting.jpg"><meta property="twitter:image" content="https://SurpriseQiD.github.io//img/home-bg-painting.jpg"><meta name=title content="潜在结果框架：反事实思考的语言"><meta property="og:title" content="潜在结果框架：反事实思考的语言"><meta property="twitter:title" content="潜在结果框架：反事实思考的语言"><meta name=description content="QiView — 一个专注于计算与决策科学的学术知识平台，提供博弈论、机器学习、因果推断等领域的系统化知识。"><meta property="og:description" content="QiView — 一个专注于计算与决策科学的学术知识平台，提供博弈论、机器学习、因果推断等领域的系统化知识。"><meta property="twitter:description" content="QiView — 一个专注于计算与决策科学的学术知识平台，提供博弈论、机器学习、因果推断等领域的系统化知识。"><meta property="twitter:card" content="“如果我当初没有这样做，结果会怎样？”——这种反事实思考是因果推断的核心。本文将介绍由内曼和鲁宾发展的潜在结果框架（Potential Outcomes Framework），它是我们用数学语言精确定义和估计因果效应的基石。"><meta name=keyword content="博弈论, 决策科学, 运营管理, 人机交互, 机器学习, 因果推断, 大语言模型"><link rel="shortcut icon" href=/img/favicon.png><title>潜在结果框架：反事实思考的语言 | QiView | 计算与决策科学知识平台</title><link rel=canonical href=/knowledge/%E5%9B%A0%E6%9E%9C%E6%8E%A8%E6%96%AD/ci-potential-outcomes/><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/hugo-theme-cleanwhite.min.css><link rel=stylesheet href=/css/zanshang.css><link rel=stylesheet href=/css/font-awesome.all.min.css><link rel=stylesheet href=https://SurpriseQiD.github.io/css/custom.css><link rel=stylesheet href=https://SurpriseQiD.github.io/css/resources.css><script src=/js/jquery.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/hux-blog.min.js></script><script src=/js/lazysizes.min.js></script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-CX84QDN0SR"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CX84QDN0SR")}</script><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container><div class=navbar-header><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#navbar-main aria-expanded=false>
<span class=sr-only>切换导航</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=/><span class=brand-text>QiView</span></a></div><div class="collapse navbar-collapse" id=navbar-main><ul class="nav navbar-nav navbar-right"><li><a href=/>首页</a></li><li><a href=/knowledge/>知识库</a></li><li><a href=/research/>研究</a></li><li><a href=/blog/>博客</a></li><li><a href=/resources/>资源</a></li><li><a href=/search/>搜索</a></li><li><a href=/about/>关于</a></li><li><a href=/search class=nav-search><i class="fa fa-search"></i></a></li></ul></div></div></nav><script>document.addEventListener("DOMContentLoaded",function(){var n,e=document.querySelector(".navbar-toggle"),t=document.querySelector(".navbar-collapse");e&&e.addEventListener("click",function(){this.classList.toggle("collapsed"),t.classList.toggle("in");var e=this.getAttribute("aria-expanded")==="true";this.setAttribute("aria-expanded",!e)}),n=document.querySelectorAll(".navbar-nav a"),n.forEach(function(n){n.addEventListener("click",function(){window.innerWidth<992&&(t.classList.remove("in"),e&&(e.classList.add("collapsed"),e.setAttribute("aria-expanded","false")))})}),document.addEventListener("click",function(n){var s=n.target.closest(".navbar");!s&&window.innerWidth<992&&(t.classList.remove("in"),e&&(e.classList.add("collapsed"),e.setAttribute("aria-expanded","false")))})})</script><header class=intro-header style=background-image:url(/img/home-bg-painting.jpg)><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=site-heading><h1>QiView</h1><span class=subheading>构建系统化的学术知识生态系统</span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-1
col-md-8 col-md-offset-1
col-sm-12
col-xs-12
post-container"><h2 id=1-因果推断的根本问题>1. 因果推断的根本问题</h2><p>想象一下，你想知道“吃一种新药（处理/Treatment）对降低血压（结果/Outcome）是否有效？”</p><p>对于一个个体（比如张三），在某个时间点，他只有两种可能：要么吃药，要么不吃药。我们永远无法同时观测到张三“吃了药”和“没吃药”这两种状态下的血压。我们只能观测到其中一种，而另一种状态，则成为了所谓的<strong>反事实（Counterfactual）</strong>——一个永远无法实现的“如果”。</p><p>这就是<strong>因果推断的根本问题（The Fundamental Problem of Causal Inference）</strong>：对于任何个体，我们永远无法同时观测到其接受处理和未接受处理两种情况下的结果，因此个体的因果效应是无法直接得知的。</p><p>那么，我们如何解决这个问题呢？答案是，虽然我们无法计算<strong>个体</strong>的因果效应，但我们可以估计<strong>群体</strong>的<strong>平均因果效应（Average Treatment Effect, ATE）</strong>。</p><h2 id=2-潜在结果框架-potential-outcomes-framework>2. 潜在结果框架 (Potential Outcomes Framework)</h2><p>为了精确地讨论这个问题，我们需要一套数学语言。由唐纳德·鲁宾（Donald Rubin）推广的潜在结果框架（也称Rubin Causal Model, RCM）正是为此而生。</p><p>对于每个个体i，我们定义两个<strong>潜在结果（Potential Outcomes）</strong>：</p><ul><li><strong>Y_i(1)</strong>: 个体i<strong>如果</strong>接受了处理（比如，吃了药）将会出现的结果（血压）。</li><li><strong>Y_i(0)</strong>: 个体i<strong>如果</strong>没有接受处理（比如，没吃药）将会出现的结果（血压）。</li></ul><p>对个体i而言，其**个体因果效应（Individual Treatment Effect, ITE）**就是：</p><p><code>ITE_i = Y_i(1) - Y_i(0)</code></p><p>如前所述，由于我们永远无法同时观测到Y_i(1)和Y_i(0)，个体的ITE是无法得知的。</p><h2 id=3-从个体到群体平均因果效应-ate>3. 从个体到群体：平均因果效应 (ATE)</h2><p>虽然个体因果效应无法计算，但我们可以将目光转向整个目标群体，计算其平均因果效应（ATE）。</p><blockquote><p><strong>定义</strong>：平均因果效应（ATE）是群体中所有个体因果效应的平均值。</p></blockquote><p><code>ATE = E[Y_i(1) - Y_i(0)] = E[Y_i(1)] - E[Y_i(0)]</code></p><p>这里的 <code>E[ ]</code> 代表求期望（平均值）。ATE告诉我们，在整个群体中，接受处理平均而言会比不接受处理带来多大的结果变化。</p><p>现在的问题是，我们如何估计 <code>E[Y_i(1)]</code> 和 <code>E[Y_i(0)]</code> 呢？</p><p>一个天真的想法是，直接用我们观测到的数据来计算：</p><ul><li>用处理组（实际吃了药的人）的平均结果来估计 <code>E[Y_i(1)]</code>。</li><li>用控制组（实际没吃药的人）的平均结果来估计 <code>E[Y_i(0)]</code>。</li></ul><p>即：<code>ATE_naive = E[Y_i | D_i=1] - E[Y_i | D_i=0]</code></p><p>其中 <code>D_i=1</code> 表示个体i在处理组，<code>D_i=0</code> 表示在控制组。</p><p>这个天真的估计方法正确吗？<strong>不一定。</strong></p><h2 id=4-选择性偏误-selection-bias>4. 选择性偏误 (Selection Bias)</h2><p>问题在于，处理组和控制组的人可能在接受处理之前就存在系统性差异。这种差异被称为<strong>选择性偏误</strong>。</p><p>例如，在药物试验中，如果让病人自己选择是否吃新药，那么选择吃药的可能本身就是更年轻、更健康、更愿意尝试新事物的人。这样一来，即使最后观察到处理组的血压更低，我们也无法判断这是因为药效，还是因为这组人本来就更健康。</p><p>数学上，我们可以将观测到的差异分解：</p><p><code>E[Y | D=1] - E[Y | D=0] = ATE + Selection Bias</code></p><p><code>Selection Bias = E[Y(0) | D=1] - E[Y(0) | D=0]</code></p><p>选择性偏误衡量的是：处理组的人<strong>即使当初没有</strong>接受处理，其结果会是怎样，与控制组的结果有多大差异。如果这个差异不为零，那么我们天真的估计就是有偏的。</p><h2 id=5-黄金标准随机对照试验-rct>5. 黄金标准：随机对照试验 (RCT)</h2><p>如何消除选择性偏误？最强大的方法就是<strong>随机对照试验（Randomized Controlled Trial, RCT）</strong>。</p><p>通过将个体<strong>随机</strong>分配到处理组和控制组，我们从统计上保证了两组人在所有可观测和不可观测的特征上都是相似的。随机化使得一个人的处理状态D与其潜在结果Y(1)和Y(0)是<strong>独立的</strong>。</p><p>在RCT下，选择性偏误为零：<code>E[Y(0) | D=1] = E[Y(0) | D=0]</code>。因此，我们可以直接用处理组和控制组的平均结果之差，来无偏地估计ATE。</p><p><code>ATE_RCT = E[Y | D=1] - E[Y | D=0]</code></p><p>这就是为什么RCT被视为因果推断的“黄金标准”。</p><h2 id=6-观察性研究>6. 观察性研究</h2><p>然而，在许多情况下，进行RCT是不可能的或不道德的（比如，我们不能随机地让一些人吸烟来研究其对健康的影响）。在这种情况下，我们只能依赖<strong>观察性数据（Observational Data）</strong>。</p><p>在观察性研究中，因果推断的核心挑战就是如何通过各种统计方法（如匹配、回归、双重差分、工具变量等）来尽可能地<strong>模拟一个随机实验</strong>，从而控制选择性偏误，得到一个可靠的因果效应估计。</p><h2 id=7-结论>7. 结论</h2><p>潜在结果框架为我们提供了一套清晰的语言来定义因果效应，并揭示了因果推断的核心挑战——反事实的缺失和选择性偏误。它明确了我们的目标：在无法进行完美随机实验的情况下，如何利用观察性数据，通过各种假设和方法，来逼近ATE的真实值。理解这个框架，是掌握所有高级因果推断方法的逻辑起点。</p><script src=https://giscus.app/client.js data-repo=SurpriseQiD/hugo-main data-repo-id data-category=Announcements data-category-id data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-theme=light data-lang=zh-CN crossorigin=anonymous async></script></div><div class="col-lg-3 col-md-3 col-sm-12
sidebar-column"><div class=sidebar-container><div class=short-about><div class=sidebar-avatar><a href=/about><img src=/img/avatar-patrickStar.jpg alt=avatar></a></div><p class=sidebar-description>专注于计算与决策科学的学术知识分享平台</p><div class="sidebar-social inline"><a href=mailto:dongq@mail.ustc.edu.cn title=Email aria-label=Email><i class="fas fa-envelope"></i>
</a><a target=_blank href=https://github.com/SurpriseQiD title=GitHub aria-label=GitHub><i class="fab fa-github"></i>
</a><a target=_blank href=https://www.researchgate.net/profile/Qi-Dong-20 title=ResearchGate aria-label=ResearchGate><i class="fab fa-researchgate"></i>
</a><a target=_blank href="https://scholar.google.com/citations?user=dEDX5coAAAAJ&amp;hl=zh-CN&amp;oi=sra" title="Google Scholar" aria-label="Google Scholar"><i class="fas fa-graduation-cap"></i>
</a><a target=_blank href=https://orcid.org/0000-0002-3052-6332 title=ORCID aria-label=ORCID><i class="fab fa-orcid"></i></a></div></div><div class="sidebar-module toc-module"><h4><i class="fas fa-list-alt"></i> 目录</h4><nav id=TableOfContents><nav id=TableOfContents><ul><li><a href=#1-因果推断的根本问题>1. 因果推断的根本问题</a></li><li><a href=#2-潜在结果框架-potential-outcomes-framework>2. 潜在结果框架 (Potential Outcomes Framework)</a></li><li><a href=#3-从个体到群体平均因果效应-ate>3. 从个体到群体：平均因果效应 (ATE)</a></li><li><a href=#4-选择性偏误-selection-bias>4. 选择性偏误 (Selection Bias)</a></li><li><a href=#5-黄金标准随机对照试验-rct>5. 黄金标准：随机对照试验 (RCT)</a></li><li><a href=#6-观察性研究>6. 观察性研究</a></li><li><a href=#7-结论>7. 结论</a></li></ul></nav></nav></div></div></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href=mailto:dongq@mail.ustc.edu.cn><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://github.com/SurpriseQiD><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href rel=alternate type=application/rss+xml title=QiView><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; QiView 2026</p></div></div></div></footer><script>function loadAsync(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(null,e)},!1),i.parentNode.insertBefore(n,i)}</script><script>$("#tag_cloud").length!==0&&loadAsync("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js",function(){var e=document.querySelector("nav");e&&FastClick.attach(e)})</script><span id=total-views class=site-counter><i class="fa fa-eye"></i>
<span class=leancloud-total-views></span>
</span><script>function showTotalViews(){var e=AV.Object.extend("SiteCounter"),t=new AV.Query(e);t.first().then(function(e){var t=e?e.get("totalViews"):0;document.querySelector(".leancloud-total-views").textContent=t})}showTotalViews()</script><script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,a=$(_containerSelector),r=a.find("h1,h2,h3,h4,h5,h6");return $(e).html(""),r.each(function(){n=$(this).prop("tagName").toLowerCase(),o="#"+$(this).prop("id"),t=$(this).text(),i=$('<a href="'+o+'" rel="nofollow" title="'+t+'">'+t+"</a>"),s=$('<li class="'+n+'_nav"></li>').append(i),$(e).append(s)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),loadAsync("/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script></body></html>